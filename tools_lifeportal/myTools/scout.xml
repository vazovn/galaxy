<tool id="Scout" name="Scout" version="">
  <description>Testing interface.</description>
  <parallelism method="basic"></parallelism>
  
  <command>    
    cp $infile $infile.name;

    perl /site/galaxy-dist/tools/myTools/tartest.pl $infile.name;

    if [ -e "${infile.name}.log" ];
    then cp ${infile.name}.log res.log;
    fi;

    if [ -e "$seloutputs.outfile1" ];then cp $seloutputs.outfile1 output1;fi;
    #if str( $seloutputs.extraoutputs) == 'many':
      #if str($seloutputs.outfile2) != "":
         if [ -e "$seloutputs.outfile2" ];then cp $seloutputs.outfile2 output2;fi;
      #end if
      #if str($seloutputs.outfile3) != "":
         if [ -e "$seloutputs.outfile3" ];then cp $seloutputs.outfile3 output3;fi;
      #end if
    #end if

  </command>

  <inputs>
     <param name="infile" type="data" label="Input file" help="" optional="false" format="txt" />

     <conditional name="seloutputs">
      <param name="extraoutputs" type="select" label="Register output files" help="Register all output file names listed in the parmfile.">
            <option value="one">Only one output file</option>
            <option value="many">Multiple output files</option>
      </param>
      <when value="one">
        <param name="outfile1" type="text" size="20" value="" label="Output file (outfile)" help="" />
      </when> 
      <when value="many">
        <param name="outfile1" type="text" size="20" value="" label="Output file 1" help="" />
        <param name="outfile2" type="text" size="20" value="" label="Output file 2 (optional)" help="" optional="True"  />
        <param name="outfile3" type="text" size="20" value="" label="Output file 3 (optional)" help="" optional="True" />
      </when> 
     </conditional>

  </inputs>

  <outputs>
    <data format="txt" name="log" label="${infile.name}.log" from_work_dir="res.log"/>
    <data format="txt" name="output1" label="outfile1" from_work_dir="output1" />
    <data format="txt" name="output2" label="outfile2" from_work_dir="output2">
       <filter>(seloutputs['outfile2'] != "")</filter>
    </data>
    <data format="txt" name="output3" label="outfile3" from_work_dir="output3">
       <filter>(seloutputs['outfile3'] != "")</filter>
    </data>
  </outputs>

  <help>
    This is a testing XML file.
  </help>
</tool>
