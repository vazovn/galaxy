{"version":3,"file":"workflow-view.js","sources":["../../../src/mvc/workflow/workflow-view.js"],"names":["define","Utils","Globals","Workflow","WorkflowCanvas","Node","ToolForm","Ui","async_save_text","Toastr","reset_tool_search","initValue","tool_menu_frame","$","contents","length","document","this","removeClass","find","hide","show","each","attr","hasClass","search_input","val","NODE_ICONS","tool","data_input","data_collection_input","subworkflow","pause","add_node_icon","$to_el","nodeType","iconStyle","$icon","addClass","before","EditorFormView","Backbone","View","extend","initialize","options","merge","$el","workflowView","node","html","setElement","id","after","_genericStepAttributesTemplate","type","$titleText","data","text","make_text_editable","on_finish","newLabel","lastValue","workflow","attemptUpdateNodeLabel","submit","name","warning","ajaxForm","dataType","success","active_form_has_changes","update_field_data","showWorkflowParameters","beforeSubmit","push","value","content_id","tool_state","form","change","bind","_annotationTemplate","annotation","workflow_save_as","body","window","show_modal","OK","rename_name","self","rename_annotation","ajax","url","urls","workflow_name","workflow_annotation","workflow_data","JSON","stringify","to_simple","done","onbeforeunload","undefined","location","hide_modal","fail","alert","Cancel","layout_editor","layout","fit_canvas_to_nodes","scroll_to_nodes","canvas_manager","draw_overview","edit_workflow_attributes","clear_active_node","show_overview","jStorage","set","css","hide_overview","app","active_ajax_call","close_editor","check_changes_in_active_form","has_changes","do_close","workflow_index","Save Changes","save_current_workflow","Don't Save","eventObj","success_callback","show_message","rectify_workflow_outputs","savefn","callback","save_workflow","_","message","errors","errlist","i","v","appendTo","append","stored","Ok","unbind","click","focus","select","keyup","q","timer","clearTimeout","setTimeout","get","tool_search","s","map","n","index","parent","this_label","next","no_visible_tools","is","reset","datatypes","parse","Galaxy","root","async","responseText","datatypes_mapping","ext_to_type","ext_to_class_name","type_to_type","class_to_classes","_workflowLoadAjax","from_simple","upgrade_message","upgrade_messages","messages","step_id","details","m","parseInt","nodes","Continue","ajaxStart","ajaxError","e","x","statusText","Ignore error","make_popupmenu","Save","Save As","Run","run_workflow","Edit Attributes","Auto Re-layout","Close","overview_size","width","height","d","op","offsetParent","opo","offset","new_size","Math","max","offsetX","left","offsetY","top","workflows","_buildToolPanelWorkflows","wrap","last_expanded","slideUp","slideDown","rename_async","annotate_async","$section","copy","ButtonIcon","icon","cls","tooltip","onclick","step_count","copy_into_workflow","modal","title","buttons","Copy","$add","on","add_node_for_subworkflow","latest_id","workflowId","k","vv","remove_all","cv","cc","load_workflow","cache","_moduleInitAjax","request_data","get_new_module_info","global","init_field_data","error","status","add_node_for_tool","create_node","add_node_for_module","display_pja","pja","get_pja_form","action_to_rem","closest","children","remove","active_node","post_job_actions","display_pja_list","pja_list","display_file_list","addlist","out_terminal","output_terminals","new_pja","action_type","target","output_name","parameter_re","workflow_parameters","wf_parm_container","wf_parm_box","new_parameter_content","matches","form_matches","form_html","match","concat","action_arguments","action_argument","arg_matches","element","inArray","substring","showToolForm","$container","$current","formView","isJSON","scrollTop","isSubType","child","$newNodeElement","title_text","$f","$title","scrollLeft","$b","prebuildNode","tmp","destroy","o","position","p","prependTo","activate_node","node_changed","po","y","terminal","redraw"],"mappings":"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"}